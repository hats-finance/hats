import { useContext } from "react";
import { VulnerabilityFormContext } from "pages/VulnerabilityFormPage/state";
import SubmitSuccess from "./components/SubmitSuccess/SubmitSuccess";
import SubmitReview from "./components/SubmitReview/SubmitReview";
import "./index.scss";

/**
 * Function to call the Telegram bot after a success on the blockchain transaction.
 * @param {Function} submitCard 
 * @param {string} telegramBotUrl 
 * @param {string} encryptedData 
 * @param {string} transactionHash 
 * @param {boolean} isRouted 
 * @param {Function} setBotStatus 
 * @param {string} contractAddress
 */
export default function VulnerabilitySubmit() {
  const { vulnerabilyData } = useContext(VulnerabilityFormContext);

  return (
    <div className="submit-wrapper card-content">
      {vulnerabilyData?.submission?.verified ? <SubmitSuccess /> : <SubmitReview />}
    </div>
  )
}
